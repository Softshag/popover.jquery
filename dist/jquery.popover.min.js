var __slice=[].slice,__bind=function(t,e){return function(){return t.apply(e,arguments)}};(function(t,e,i){var n,s,o;return t.fn.softshag||(t.fn.softshag={}),o="popover",s={trigger:"hover",content:"No content",attach:"body",position:"left",html:!1,offsetX:0,offsetY:0,containerClass:"popover",delay:0,showFn:function(){var e,i;return e=arguments.length>=1?__slice.call(arguments,0):[],(i=t(this)).fadeIn.apply(i,e)},hideFn:function(){var e,i;return e=arguments.length>=1?__slice.call(arguments,0):[],(i=t(this)).fadeOut.apply(i,e)}},n=function(){function e(e,i){this.destroy=__bind(this.destroy,this),this.hide=__bind(this.hide,this),this.show=__bind(this.show,this),this.settings=t.extend({},s,i),this.element=t(e),this.initialize()}var n;return e.prototype._timer=null,e.prototype.settings=null,e.prototype.element=null,e.prototype.initialize=function(){var e=this;return this._method=function(){switch(this.settings.trigger){case"hover":return"mouseenter";case"click":return"click"}}.call(this),this.element.bind(this._method,function(){return e.settings.delay>0?(null!=e._timer&&clearTimeout(e._timer),e._timer=setTimeout(function(){return e.show()},e.settings.delay)):e.show()}),"mouseenter"===this._method?this.element.bind("mouseleave",this.hide):"click"===this._method?t("body").bind("click",this.hide):void 0},e.prototype.show=function(){var e,i;return this._isOpen?this.hide():(e=t.isFunction(this.settings.content)?this.settings.content.call(null):this.settings.content,this._content=this.settings.html?t("<div></div>").html(e):t("<div></div>").text(e),this._content.addClass(this.settings.containerClass),this._content.css({display:"none"}).appendTo(this.settings.attach),i=n(this.element,this.settings.position,this._content,this.settings.offsetX,this.settings.offsetY),this._content.css({position:"absolute"}).css(i),this._isOpen=!0,this.settings.showFn.apply(this._content))},e.prototype.hide=function(){var e;return this._timer&&(clearTimeout(this._timer),this._timer=null),this._isOpen?(this._isOpen=!1,e=function(){return t(this).remove()},this.settings.hideFn.apply(this._content,[e])):void 0},e.prototype.destroy=function(){return this._isOpen()&&this.hide(),this.element.unbind(this._method,this.show),"mouseenter"===this._method?this.element.unbind("mouseleave",this.hide):"click"===this._method&&t("body").unbind("click",this.hide),t.removeData(this,"plugin_"+o)},n=function(e,n,s,o,h){var r,l,u,c,a,p,d,f;return p=e.offset(),a=e.height(),d=e.width(),r=s.height(),l=s.width(),c=t(i).width(),u=t(i).height(),f=function(){switch(n){case"bottom":return{left:0>p.left-d?0:p.left-d,top:p.top+(a+r)/2+h};case"top":return{left:0>p.left-d?0:p.left-d,top:p.top-r-h};case"right":return{left:p.left+(d+l)/2,top:p.top};case"left":return{left:p.left-l,top:p.top}}}(),0>f.left&&"left"===n&&(f.left=p.left+(d+l)/2),f.left>c&&(f.left=p.left-l),0>f.top&&(f.top=p.top+(a+r)/2+h),f.top>u&&(f.top=p.top-r-h),f},e}(),t.fn[o]=function(e,i){return t(this).each(function(){var s;return t.data(this,"plugin_"+o)?null!=e&&t.isString(e)&&(s=t.data(this,"plugin_"+o),null!=s[e]&&t.isFunction(s[e]))?s[e].apply(s,[i]):void 0:t.data(this,"plugin_"+o,new n(this,e))})}})(jQuery,window,document);